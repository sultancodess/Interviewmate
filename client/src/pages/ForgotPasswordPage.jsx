import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport Logo from '../components/Logo'\nimport { Mail, ArrowLeft, CheckCircle, Loader } from 'lucide-react'\nimport { apiService, handleApiResponse } from '../services/api'\nimport toast from 'react-hot-toast'\n\nconst ForgotPasswordPage = () => {\n  const [email, setEmail] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [emailSent, setEmailSent] = useState(false)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    \n    if (!email.trim()) {\n      toast.error('Please enter your email address')\n      return\n    }\n\n    setLoading(true)\n\n    try {\n      const result = await handleApiResponse(() => apiService.auth.forgotPassword(email))\n      \n      if (result.success) {\n        setEmailSent(true)\n        toast.success('Password reset email sent!')\n      } else {\n        toast.error(result.error || 'Failed to send reset email')\n      }\n    } catch (error) {\n      toast.error('Something went wrong. Please try again.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (emailSent) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-md w-full space-y-8\">\n          {/* Header */}\n          <div className=\"text-center\">\n            <Link to=\"/\" className=\"flex justify-center mb-6\">\n              <Logo size=\"lg\" showText={true} />\n            </Link>\n            <div className=\"mb-6\">\n              <div className=\"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4\">\n                <CheckCircle className=\"w-8 h-8 text-green-600\" />\n              </div>\n              <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">Check your email</h2>\n              <p className=\"text-gray-600\">We've sent a password reset link to</p>\n              <p className=\"text-blue-600 font-medium\">{email}</p>\n            </div>\n          </div>\n\n          {/* Instructions */}\n          <div className=\"bg-white py-8 px-6 shadow-lg rounded-lg border\">\n            <div className=\"space-y-4\">\n              <div className=\"flex items-start space-x-3\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center\">\n                    <span className=\"text-blue-600 text-sm font-bold\">1</span>\n                  </div>\n                </div>\n                <p className=\"text-gray-700\">Check your email inbox (and spam folder)</p>\n              </div>\n              \n              <div className=\"flex items-start space-x-3\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center\">\n                    <span className=\"text-blue-600 text-sm font-bold\">2</span>\n                  </div>\n                </div>\n                <p className=\"text-gray-700\">Click the \"Reset Password\" button in the email</p>\n              </div>\n              \n              <div className=\"flex items-start space-x-3\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center\">\n                    <span className=\"text-blue-600 text-sm font-bold\">3</span>\n                  </div>\n                </div>\n                <p className=\"text-gray-700\">Create a new password for your account</p>\n              </div>\n            </div>\n\n            <div className=\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n              <p className=\"text-yellow-800 text-sm\">\n                <strong>Note:</strong> The reset link will expire in 1 hour for security reasons.\n              </p>\n            </div>\n\n            <div className=\"mt-6 space-y-3\">\n              <button\n                onClick={() => setEmailSent(false)}\n                className=\"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n              >\n                Send another email\n              </button>\n              \n              <Link\n                to=\"/login\"\n                className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n              >\n                Back to Sign In\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        {/* Header */}\n        <div className=\"text-center\">\n          <Link to=\"/\" className=\"flex justify-center mb-6\">\n            <Logo size=\"lg\" showText={true} />\n          </Link>\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">Forgot your password?</h2>\n          <p className=\"text-gray-600\">No worries! Enter your email and we'll send you a reset link.</p>\n        </div>\n\n        {/* Reset Form */}\n        <div className=\"bg-white py-8 px-6 shadow-lg rounded-lg border\">\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email address\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Mail className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  autoComplete=\"email\"\n                  required\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"Enter your email address\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                {loading ? (\n                  <Loader className=\"w-5 h-5 animate-spin\" />\n                ) : (\n                  'Send reset link'\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n\n        {/* Back to login */}\n        <div className=\"text-center\">\n          <Link\n            to=\"/login\"\n            className=\"inline-flex items-center text-sm text-blue-600 hover:text-blue-500 font-medium\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back to Sign In\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ForgotPasswordPage"